{% extends 'home_page/base.html' %}

{% block title %}Blog Page{% endblock title %}

{% block content %}
<div class="container-fluid">
    {% if user.is_authenticated %}
        <div class="d-grid gap-2 d-md-flex justify-content-md-end mt-4">
            <a class="btn btn-outline-secondary" href="{% url 'blog:add-category' %}" role="button">
                <span class="fas fa-plus"></span>&nbsp;Add a new Category
            </a>
            <a class="btn btn-outline-secondary" href="{% url 'blog:add-post' %}" role="button">
                <span class="fas fa-plus"></span>&nbsp;Add a new Post
            </a>
        </div>
    {% endif %}
    <h1 class="text-center mt-4">Posts list</h1>
    <div class="container-fluid">
        {% for post in object_list %}
            <div class="row justify-content-center">
                <div class="col-6">
                    <div class="form-control">
                        <h4><a href="{% url 'blog:post-details' post.pk %}">{{ post.title|title }}</a></h4>
                        Author - {{ post.author }}. Category - {{ post.category }}.
                        <p class="article-content">{{ post.body|truncatewords:50 }}</p>
                        <small class="text-muted">Added - {{ post.add_post_date }}</small>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock content %}
